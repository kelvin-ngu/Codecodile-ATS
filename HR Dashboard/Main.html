<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base target="_top">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
  <?!= include('MainCSS'); ?>
  <?!= include('MainJS'); ?>
  <?!= include('MainFrontEndJS'); ?>
  <!-- Top Bar -->
  <nav class="navbar navbar-expand-lg fixed-top topbar">    
    <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="40px" height="40px" viewBox="0 0 72 72" id="emoji">
          <g id="color">
            <path fill="#5C9E31" stroke="#5C9E31" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M46,52c0,0,17,2,19,0v-1c0,0,3-3,1-4s-5,0-5,0s-2.9167-1.3333-6.4583-4.6667C54.5417,42.3333,53,41,51,43c0,0-2-3-8-3s-24,1-24,1 s-6-1,0-3s11-2,12,0c0,0-2.6667-8.4167-17.3333-5.2083C13.6667,32.7917,1,36,8,48c0,0,2,4,8,4H46z"/>
            <path fill="#B1CC33" stroke="#B1CC33" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M23,47c0,0-4.8121,4-3.406,5S23,55,23,55h4l-3.0324-3c0,0,2.0324-1,3.0324-3s0-3.2403,0-3.2403"/>
            <path fill="#B1CC33" stroke="#B1CC33" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M40,47c0,0-4.8121,4-3.406,5S40,55,40,55h4l-3.0324-3c0,0,2.0324-1,3.0324-3s0-3.2403,0-3.2403"/>
          </g>
          <g id="hair"/>
          <g id="skin"/>
          <g id="skin-shadow"/>
          <g id="line">
            <path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M8,48"/>
            <line x1="29" x2="33" y1="52" y2="52" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>
            <path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M46,52c0,0,17,2,19,0v-1c0,0,3-3,1-4s-5,0-5,0s-2.9167-1.3333-6.4583-4.6667C54.5417,42.3333,53,41,51,43c0,0-2-3-8-3s-24,1-24,1 s-6-1,0-3s11-2,12,0c0,0-2.6667-8.4167-17.3333-5.2083C13.6667,32.7917,1,36,8,48c0,0,2,4,8,4"/>
            <path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M23,47c0,0-4.8121,4-3.406,5S23,55,23,55h4l-3.0324-3c0,0,2.0324-1,3.0324-3s0-3.2403,0-3.2403"/>
            <path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M40,47c0,0-4.8121,4-3.406,5S40,55,40,55h4l-3.0324-3c0,0,2.0324-1,3.0324-3s0-3.2403,0-3.2403"/>
        </g>
      </svg>
      <h1 class="navbar-brand">HR Dashboard</h1>
    </div>
  </nav>

  <!-- Side Bar -->
  <div class="sidebar" id="base-sidebar">
    <a onclick="showStatus()">Applicant Status</a>
    <a onclick="showScreening()">CV Screening</a>
    <a onclick="showRecordedInterviewResponses()">Recorded Interview Responses</a>
    <a onclick="showFinalStageInterview()">Final Stage Interview</a> 
  </div>

  <!-- Main Content -->
  <div class="content">
    <!-- Default block: Applicant Status -->
    <div id="status-section" style="display: none;">
      <div class="icon">
        <div class="heading-container">
          <h1>Applicant Status</h1>
        </div>
      </div>
      <div id="status-container" class="screening-content">
        <!-- Profiles content will go here -->
        <div class="sidebar">
          <h2>Filters</h2>
          <div class="filters">
            <div class="section">
              <h3>Application Status</h3>
              <div id="applicationStatus">
                <label>
                  <input type="checkbox" class="status-filter-checkbox" data-filter="status" value="Review in Progress">
                  Review in Progress
                </label>
                <label>
                  <input type="checkbox" class="status-filter-checkbox" data-filter="status" value="Next Stage">
                  Next Stage
                </label>
                <label>
                  <input type="checkbox" class="status-filter-checkbox" data-filter="status" value="Final Stage">
                  Final Stage
                </label>
                <label>
                  <input type="checkbox" class="status-filter-checkbox" data-filter="status" value="Successful">
                  Successful
                </label>
                <label>
                  <input type="checkbox" class="status-filter-checkbox" data-filter="status" value="Unsuccessful">
                  Unsuccessful
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="applicant-content">
            <table>
                <thead>
                    <tr>
                        <th>Applicant ID</th>
                        <th>Name</th>
                        <th>Applied Position</th>
                        <th>CV</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="applicant-list-by-status">
                    <!-- Applicants will be displayed here -->
                </tbody>
            </table>
        </div>
      </div>
    </div>

    <!-- Second Block: Applicant CV Screening -->
    <div id="screening-section" style="display: none;">
      <div class="icon">
        <div class="heading-container">
          <h1>CV Screening</h1>
        </div>
      </div>
      <div class="screening-content">
        <div class="sidebar">
          <h2>Filters</h2>
          <div class="filters">
            <div class="section">
              <h3>Applied Position</h3>
              <div id="availablePosition"></div>
            </div>
            <div class="section">
              <h3>Course Start Year</h3>
              <div id="startYearFilters">
                  <label><input type="checkbox" class="filter-checkbox" data-filter="startYear" value="2018"> 2018</label>
                  <label><input type="checkbox" class="filter-checkbox" data-filter="startYear" value="2019"> 2019</label>
                  <label><input type="checkbox" class="filter-checkbox" data-filter="startYear" value="2020"> 2020</label>
                  <label><input type="checkbox" class="filter-checkbox" data-filter="startYear" value="2021"> 2021</label>
                  <label><input type="checkbox" class="filter-checkbox" data-filter="startYear" value="2022"> 2022</label>
                  <label><input type="checkbox" class="filter-checkbox" data-filter="startYear" value="2023"> 2023</label>
                  <label><input type="checkbox" class="filter-checkbox" data-filter="startYear" value="2024"> 2024</label>
              </div>
            </div>
            <div class="section">
                <h3>Hard Skills</h3>
                <div id="position-skill-list"></div>
            </div>
          </div>
          <div>
            <b onclick="filterApplicantsBySynonym()">Synonym Filtering</b>
          </div>
        </div>
        <div class="applicant-content">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Applied Position</th>
                        <th>Education</th>
                        <th>Skills</th>
                        <th>CV</th>
                        <th>Decision</th>
                    </tr>
                </thead>
                <tbody id="applicant-list">
                    <!-- Applicants will be displayed here -->
                </tbody>
            </table>
        </div>
      </div>
    </div>
    <div id="loading-overlay" class="loading-overlay">
      <div class="spinner-border text-primary" role="status">
          <span class="sr-only">Loading your data...</span>
      </div>
    </div>

    <!-- Third Block: Applicant Recorded Interview Responses --> 
    <div id='recorded-interview-section' style="display: none;">
      <h1>Recorded Interview Responses</h1>
      <div id="recorded-interview-status-container"class="grid-container">
        <!-- Profiles content will go here -->
      </div>
    </div>

    <!-- Fourth Block: Final Stage Interview Scheduling --> 
    <div id="finalStageInterview-section" style="display: none;">
      <h1>Final Stage Interview</h1>
      <div id="finalStageInterview-container">
      <!-- Profiles content will go here -->
        <div class="interview-content">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Applied Position</th>
                        <th>Interview Status</th>
                        <th>Feedback</th>
                        <th>Decision</th>
                    </tr>
                </thead>
                <tbody id="interview-applicant-list">
                    <!-- Applicants will be displayed here -->
                </tbody>
            </table>
        </div>
      </div>
    </div>
  </div>
    <div id="scheduleFormModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2 class="text-center">Schedule an Interview</h2>
        <form id="scheduleForm">
          <div class="form-group">
            <label for="startTime">Start Time:</label>
            <input type="datetime-local" id="startTime" name="startTime" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="meetingDuration">Meeting Duration (minutes):</label>
            <input type="number" id="meetingDuration" name="meetingDuration" class="form-control" min="1" required>
          </div>
          <div class="form-group">
            <label for="interviewerEmail">Interviewer Email:</label>
            <input type="email" id="interviewerEmail" name="interviewerEmail" class="form-control">
            <button type="button" id="addEmailButton" class="btn btn-secondary btn-sm mt-2">Add Email</button>
          </div>
          <ul id="emailList" class="email-list"></ul>
          <button type="button" id="scheduleSubmitButton" class="btn btn-primary btn-block">Schedule Interview</button>
        </form>
      </div>
    </div>
    <!-- Add Column Modal -->
      <div id="addColumnModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeAddColumnModal()">&times;</span>
          <h2>Add Column</h2>
          <select id="newColumnName">
            <!-- Options will be populated dynamically -->
          </select>
          <button onclick="addColumn()">Add</button>
        </div>
      </div>

  <!-- Delete Column Modal -->
  <div class="modal" id="deleteColumnModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Delete Column</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <select id="deleteColumnName" class="form-control">
            <!-- Dynamic options will be added here -->
          </select>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" onclick="deleteColumn()">Delete</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>